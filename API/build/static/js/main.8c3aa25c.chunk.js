(this["webpackJsonpencuestas-practica"]=this["webpackJsonpencuestas-practica"]||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(2),c=n.n(r),s=n(53),i=n.n(s),o=(n(96),n(8)),u=n(3),l=n(90),d=n(7),j=function(e){var t=e.component,n=e.isAuth,r=Object(l.a)(e,["component","isAuth"]);return Object(a.jsx)(d.b,Object(o.a)(Object(o.a)({},r),{},{render:function(e){return void 0!==n?Object(a.jsx)(t,{}):Object(a.jsx)(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},b=n(17),p=n(12),m=n(4),f=n.n(m),O=n(5),x=n(20),h=n.n(x);n(61);h.a.setAppElement("#root");var v=function(e){var t=e.state,n=e.toggle,r=e.title,c=e.work,s=e.note;return Object(a.jsxs)(h.a,{isOpen:t,onRequestClose:n,style:{overlay:{backgroundColor:"rgba(184, 184, 184, .4)",zIndex:20},content:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},className:"modal",children:[Object(a.jsx)("h1",{className:"title-modal",children:r}),Object(a.jsx)("span",{className:"text-note",children:s}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"btn-modal cancel",onClick:n,children:"Cancelar"}),Object(a.jsx)("button",{className:"btn-modal acepted",onClick:c,children:"Aceptar"})]})]})},g=n.p+"static/media/user1.7bbddee0.svg",w=n(9),N=n(10);function y(){var e=Object(w.a)(["\n    background-color: ",";\n    color: ",";\n    display: block;\n    border-radius: 5px;\n    cursor: pointer;\n    font-family: 'Source Sans Pro', sans-serif;\n    border: 1px solid #2f28a6;\n    font-size: 1rem;\n\n    @media screen and (min-width: 600px){\n        transition: all .1s ease-in;\n    \n        &:hover {\n            background-color: #2f28a6;\n            color: #fff;\n            border: 1px solid #2f28a6;\n        }\n    }\n"]);return y=function(){return e},e}var C=Object(N.a)(y(),(function(e){return"true"===e.secondary?"#2f28a6":"transparent"}),(function(e){return"true"===e.secondary?"#fff":null}));function k(){var e=Object(w.a)(["\n    position: absolute;\n    display: none;\n    top: 65%;\n    right: 5px;\n    list-style: none;\n\n    &:hover {\n        display: block;\n    }\n"]);return k=function(){return e},e}function P(){var e=Object(w.a)(["\n    ",";\n    border-radius: 0;\n    padding: 0;\n    text-align: center;\n    width: 140px;\n    padding-top: 5px;\n    height: 25px;\n    outline: none;\n    border: 1px solid #2f28a6;\n    font-size: 1rem;\n\n    @media screen and (max-width: 600px){\n        height: 30px;\n    }\n"]);return P=function(){return e},e}function S(){var e=Object(w.a)(["\n    width: 30px;\n"]);return S=function(){return e},e}function E(){var e=Object(w.a)(["\n    margin-right: 20px;\n"]);return E=function(){return e},e}function q(){var e=Object(w.a)(["\n    display: flex;\n    gap: 10px;\n    cursor: pointer;\n\n    &:hover ~ ul {\n        display: block;\n    }\n"]);return q=function(){return e},e}function A(){var e=Object(w.a)(["\n    position: relative;\n    top: 0;\n"]);return A=function(){return e},e}function _(){var e=Object(w.a)(["\n    ",";\n"]);return _=function(){return e},e}function I(){var e=Object(w.a)(["\n    position: relative;\n    padding: 7px 10px;\n    ",";\n    padding-top: 5px;\n    text-decoration: none;\n    margin-left: 10px;\n    font-size: 1rem;\n    \n    @media screen and (max-width: 600px){\n        font-size: .9rem;\n    }\n"]);return I=function(){return e},e}function R(){var e=Object(w.a)(["\n    ",";\n    position: fixed;\n    top: 0;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 50px;\n    background-color: white;\n    z-index: 10;\n"]);return R=function(){return e},e}function D(){var e=Object(w.a)(["\n    display: flex;\n"]);return D=function(){return e},e}var U=Object(N.a)(D()),F=N.b.nav(R(),U),T=Object(N.b)(p.b)(I(),C),z=N.b.section(_(),U),L=N.b.div(A()),V=N.b.div(q()),B=N.b.p(E()),M=N.b.img(S()),X=N.b.div(P(),C),H=N.b.ul(k()),J=function(e,t){return e?(t.current.type="password",!1):(t.current.type="text",!0)},Z=function(e){return e.length>6?"":e.length<5?"Su contrase\xf1a/nombre debe tener como minimo 5 caracteres":e&&0!==e.length?void 0:"Campo vacio"},K=function(e){return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e)?void 0:"Direccion de correo no valida.":"Campo vacio"},G=function(e){return e?e.length<5?"Debe tener 5 o mas caracteres":"":"Campo vacio"},W=function(e){var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t))},$=n(6),Q=n.n($),Y=(new b.a,new b.a),ee=function(){var e=Y.get("auth");return W(e)},te=function(e,t){var n=Object(r.useState)({userEmail:"",password:"",errorEmail:"",errorPassword:""}),a=Object(u.a)(n,2),c=a[0],s=a[1];return{form:c,captureEmail:function(){s(Object(o.a)(Object(o.a)({},c),{},{userEmail:e.current.value,errorEmail:K(e.current.value)}))},capturePassword:function(){s(Object(o.a)(Object(o.a)({},c),{},{password:t.current.value,errorPassword:G(t.current.value)}))}}},ne=n(38),ae=new b.a,re=function(){var e=Object(d.g)(),t=ae.get("auth"),n=W(t),a=Object(r.useState)({name:n.name,email:n.email,password:""}),c=Object(u.a)(a,2),s=c[0],i=c[1],l=Object(r.useState)(),j=Object(u.a)(l,2),b=j[0],p=j[1],m=Object(r.useState)({name:""}),x=Object(u.a)(m,2),h=x[0],v=x[1],g=function(e,t){"name"===e?v({name:G(t)}):"email"===e?v({name:Z(t)}):"newPassword"===e?p(t):"password"===e&&v(t===b?{name:""}:{name:"Las contrase\xf1as no coinciden"})},w=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.name,a=t.target.value,g(n,a),e.next=5,i(Object(o.a)(Object(o.a)({},s),{},Object(ne.a)({},n,a)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=Object(O.a)(f.a.mark((function t(a,r,c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c.length<6)){t.next=4;break}v({name:"Amigo, debe ingresar su contrase\xf1a antigua o tu nueva contrase\xf1a. No puedes dejar este campo vacio"}),t.next=6;break;case 4:return t.next=6,Q.a.put("/api/users/".concat(n._id),{name:a,email:r,password:c}).then((function(t){return"OK"===t.data?e.push("/login"):null})).catch((function(e){return console.log(e)}));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),y=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("/api/users/".concat(n._id)).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return[s,function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),h.name.length>0?v({name:"Porfavor, revise los campos llenados previamente"}):N(s.name,s.email,s.password);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w,h,y]},ce=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return[n,function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(!n);case 2:document.body.style.overflow=n?"auto":"hidden";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()]},se=function(e,t,n){var a=Object(r.useState)({username:"",errorUsername:"",email:"",errorEmail:"",password:"",errorPassword:""}),c=Object(u.a)(a,2),s=c[0],i=c[1];return{values:s,captureUsername:function(){i({username:e.current.value,errorUsername:Z(e.current.value),email:t.current.value,errorEmail:"",password:n.current.value,errorPassword:""})},captureEmail:function(){i({username:e.current.value,errorUsername:Z(e.current.value),email:t.current.value,errorEmail:K(t.current.value),password:n.current.value,errorPassword:""})},capturePassword:function(){i({username:e.current.value,errorUsername:Z(e.current.value),email:t.current.value,errorEmail:K(t.current.value),password:n.current.value,errorPassword:G(n.current.value)})}}},ie=n(25),oe=function(e,t,n){var a=Object(r.useState)(),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)([]),l=Object(u.a)(o,2),d=l[0],j=l[1];Object(r.useEffect)((function(){(function(){var t=Object(O.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.a.get("/api/poll/".concat(e)).then((function(e){return e.data})).then((function(e){return i(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var b=function(e,n){var a=function(e){return[d.filter((function(t){return t.id_questions!==e})),d.find((function(t){return t.id_questions===e}))]}(e),r=Object(u.a)(a,2),c=r[0],s=r[1];c&&void 0!==s?(document.getElementById(s.id_options+"Item").parentNode.classList.remove("repeat"),j([].concat(Object(ie.a)(c),[{user:t._id,id_questions:e,id_options:n}]))):j([].concat(Object(ie.a)(d),[{user:t._id,id_questions:e,id_options:n}]))};return[s,function(e){var t=e.target,n=t.getAttribute("name"),a=t.getAttribute("data-question"),r=t.parentNode;b(a,n),r.classList.add("repeat")},function(t){if(t.preventDefault(),d.length<s.Poll.questions.length)return"Complete la encuesta \ud83d\ude2a\ud83d\ude2b";d.map((function(t){return Q.a.post("/api/answer/Poll/".concat(e),t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})),n()}]},ue=function(e,t){var n=Object(r.useState)(),a=Object(u.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(0),o=Object(u.a)(i,2),l=o[0],d=o[1],j=function(){var n=Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Q.a.get(e).then((function(e){s(t?e.data.Poll.questions:e),d(Math.ceil(e.data.userDB.length/8))})).catch((function(e){return console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){j()}),[e,t]);return[c,function(){j()},l,8]},le=function(e){var t=Object(r.useState)([{labels:[]}]),n=Object(u.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){var t=["#da1e37","#0466c8","#2ec4b6","#fdffb6","#cdb4db","#81b29a","#6761df","#adb5bd"];e&&c({name:e.map((function(e){return e.name})),labels:e.map((function(e){return e.options.map((function(e){return e.option}))})),datasets:{data:e.map((function(e){return e.options.map((function(e){return e.rate}))})),backgroundColor:e.map((function(e){return e.options.map((function(e,n){return t[n]}))}))}})}),[e]),a},de=function(e){var t=Object(r.useState)(1),n=Object(u.a)(t,2),a=n[0],c=n[1],s=8*a,i=s-8;return{page:a,surveysPerPage:8,paginate:function(e){return c(e)},currentSurveys:e&&e.slice(i,s)}},je=new b.a,be=function(){var e=Object(d.g)(),t=ee(),n=ce(),r=Object(u.a)(n,2),c=r[0],s=r[1],i=Object(d.h)(),o=function(){var t=Object(O.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!je.get("auth")){t.next=5;break}return t.next=4,Q.a.get("/api/logout").then((function(e){return e})).catch((function(e){return console.log(e)}));case 4:e.push("/login");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(F,{children:[Object(a.jsxs)(z,{children:[Object(a.jsx)(T,{to:"/",secondary:"/"===i.pathname?"true":null,children:"Mis Encuestas"}),Object(a.jsx)(T,{to:"/surveys",secondary:"/surveys"===i.pathname?"true":null,children:"Responder Encuestas"})]}),Object(a.jsxs)(L,{children:[Object(a.jsxs)(V,{children:[Object(a.jsx)(M,{src:g,alt:""}),Object(a.jsx)(B,{children:t.name})]}),Object(a.jsxs)(H,{children:[Object(a.jsx)("li",{children:Object(a.jsx)(X,{onClick:function(){return e.push("/profile")},children:"Editar Perfil"})}),Object(a.jsx)("li",{children:Object(a.jsx)(X,{onClick:s,children:"Cerrar Sesion"})})]})]})]}),Object(a.jsx)(v,{state:c,toggle:s,title:"\xbfEstas seguro que deseas cerrar sesi\xf3n?",work:o})]})},pe=function(e){var t=e.image;return Object(a.jsx)("div",{className:"side1",children:Object(a.jsx)("div",{className:"image-container",children:Object(a.jsx)("img",{src:t,alt:"singup"})})})},me=n.p+"static/media/encuesta.f3817be0.svg",fe=(n(128),function(e){var t=e.id,n=e.title,c=e.author,s=e.question,i=e.buttonTitle,o=e.toggleSurvey,l=Object(r.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(r.useRef)();return Object(r.useEffect)((function(){new IntersectionObserver((function(e,t){e[0].isIntersecting&&(b(!0),t.disconnect())}),{threshold:0}).observe(p.current)}),[]),Object(a.jsx)("div",{className:"card",ref:p,children:j?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"cardItem ",children:[Object(a.jsx)("img",{src:me,alt:"Icono-encuesta",className:"imgCard"}),Object(a.jsx)("h1",{className:"cardTitle",children:n})]}),Object(a.jsxs)("div",{className:"cardItem",children:[Object(a.jsxs)("p",{className:"cardParagraph",children:[Object(a.jsx)("span",{children:"Autor"}),c]}),Object(a.jsxs)("p",{className:"cardParagraph",children:[Object(a.jsx)("span",{children:"N\xb0 Preguntas"}),s]})]}),Object(a.jsx)("button",{className:"cardItem cardButton",onClick:function(){return o(t)},children:i})]}):null})}),Oe=n.p+"static/media/error404.694b4357.png",xe=(n(129),function(){var e=Object(d.g)();return Object(a.jsxs)("div",{className:"error404",children:[Object(a.jsx)("img",{src:Oe,alt:"error404Img"}),Object(a.jsx)("p",{className:"errorText",children:"Error404: Page Not Found!"}),Object(a.jsx)("div",{className:"btn-back",onClick:function(){return e.push("/home")},children:Object(a.jsx)("span",{children:"Back"})})]})}),he=n(88);function ve(){var e=Object(w.a)(["\n    animation: "," .6s ease-out;\n    animation-fill-mode: forwards; \n    padding: 30px 0;\n    margin: auto;\n    width: 98%;\n    display: grid;\n    grid-template-columns: repeat(4, 240px);\n    justify-content: center;\n    align-items: center;\n    gap: 20px;\n    \n    @media screen and (max-width: 1150px){\n        grid-template-columns: repeat(4, 1fr);\n        width: 95%;\n    }\n    @media screen and (max-width: 950px){\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n     @media screen and (max-width: 850px){\n        width: 98%;\n    }\n    @media screen and (max-width: 600px){\n        place-items: center;\n        grid-template-columns: repeat(2, 1fr);\n        gap: 5px;\n    }\n\n     @media screen and (max-width: 500px){\n        gap: 10px;\n    }\n"]);return ve=function(){return e},e}function ge(){var e=Object(w.a)(["\n    position: relative;\n    top: 15px;\n    display:block;\n    text-align: center;\n"]);return ge=function(){return e},e}function we(){var e=Object(w.a)(["\n    0%{\n        transform: translateX(-100%);\n    }\n    100%{\n        transform: translateX(0);\n    }\n"]);return we=function(){return e},e}function Ne(){var e=Object(w.a)(["\n    padding: 7px 10px;\n    ","\n    color:  #2f28a6;\n    position: relative;\n    display: block;\n    outline: none;\n    margin: auto;\n"]);return Ne=function(){return e},e}function ye(){var e=Object(w.a)(["\n    padding-top: 20px;\n    border-radius: 15px 15px 0 0;\n    margin: auto;\n    margin-top: 80px;\n    margin-bottom: 40px;\n    width: 85%;\n    background-color: white;\n    min-height: calc(100vh - 80px);\n    -webkit-box-shadow: 1px 6px 22px -10px rgba(33,37,41,1);\n    -moz-box-shadow: 1px 6px 22px -10px rgba(33,37,41,1);\n    box-shadow: 1px 6px 22px -10px rgba(33,37,41,1);\n\n    @media screen and (max-width: 850px){\n        width: 90%;\n    }\n\n    @media screen and (max-width: 700px){\n        width: 100%;\n    }\n"]);return ye=function(){return e},e}function Ce(){var e=Object(w.a)(["\n    position: relative;\n    left: 10px;\n    top: 1px;\n    padding-right: 5px;\n"]);return Ce=function(){return e},e}var ke=Object(N.b)(he.a)(Ce()),Pe=N.b.section(ye()),Se=N.b.button(Ne(),C),Ee=Object(N.c)(we()),qe=N.b.span(ge()),Ae=N.b.div(ve(),Ee),_e=function(e){var t=e.error,n=e.secondary;return Object(a.jsx)("p",{className:"true"===n?"error error-profile":"error",children:t})},Ie=function(e){var t=e.content;return Object(a.jsx)("div",{className:"title-singup",children:Object(a.jsx)("h1",{children:t})})},Re=function(e){var t=e.require,n=e.name,r=e.place,c=e.styles,s=e.key,i=e.secondary;return Object(a.jsx)("input",{type:"text",name:n,placeholder:r,className:c,ref:t,disabled:"true"===i||null,autoComplete:"off"},s)},De=n.p+"static/media/loading.38d4dd8c.svg",Ue=(n(130),function(){return Object(a.jsxs)("div",{className:"spinner",children:[Object(a.jsx)("img",{src:De,alt:"Cargando...",className:"spinner-img"}),Object(a.jsx)("h1",{className:"spinner-title",children:"Cargando..."})]})}),Fe=n(31),Te=function(e){var t=e.question,n=e.optionHandle,r=e.option;return Object(a.jsxs)("div",{className:"survey",children:[Object(a.jsx)(Re,{name:"question",place:"Pregunta",styles:"questions",require:t}),Object(a.jsx)("ul",{children:Object(a.jsx)("li",{children:Object(a.jsx)(Re,{name:"Option",place:"Opci\xf3n",styles:"options",require:r})})}),Object(a.jsx)("button",{className:"add-option",title:"A\xf1adir opci\xf3n",onClick:n,children:Object(a.jsx)(Fe.b,{})})]})},ze=n.p+"static/media/sucess.d33ed3ac.png";h.a.setAppElement("#root");var Le=function(e){var t=e.state,n=e.toggle,r=e.image,c=e.title,s=e.button;return Object(a.jsxs)(h.a,{isOpen:t,onRequestClose:n,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1,className:"modal",style:{overlay:{backgroundColor:"rgba(184, 184, 184, .4)",zIndex:99},content:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},children:[Object(a.jsx)("img",{className:"success-img",src:r,alt:"modal-img"}),Object(a.jsx)("span",{className:"message-modal",children:c}),Object(a.jsx)("button",{className:"btn-modal acepted",onClick:s,children:"Aceptar"})]})};n(131);h.a.setAppElement("#root");var Ve=function(e){var t=e.state,n=e.toggle,c=e.reload,s=ce(),i=Object(u.a)(s,2),l=i[0],d=i[1],j=ee(),b=Object(r.useRef)(),p=Object(r.useRef)(),m=Object(r.useRef)(),x=Object(r.useState)([]),v=Object(u.a)(x,2),g=v[0],w=v[1],N=Object(r.useState)(),y=Object(u.a)(N,2),C=y[0],k=y[1],P=Object(r.useState)({created_by:"",description:"",questions:[]}),S=Object(u.a)(P,2),E=S[0],q=S[1],A=function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.post("/api/poll",t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(h.a,{isOpen:t,onRequestClose:n,className:"modal-survey",style:{overlay:{position:"fixed",zIndex:"20",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"center"}},children:[Object(a.jsxs)("div",{className:"modal-head",children:[Object(a.jsx)("h1",{className:"modal-title",children:"Crear nueva encuesta"}),Object(a.jsx)("button",{className:"modal-close",onClick:n,children:"X"})]}),Object(a.jsxs)("form",{className:"modal-body",onSubmit:function(e){e.preventDefault(),E.questions&&E.description?(A(E),k(),q(),c(),d(!0)):k("Asegurate de haber llenado correctamente los campos")},children:[Object(a.jsxs)("div",{className:"survey-head",children:[Object(a.jsx)("input",{name:"title",type:"text",placeholder:"Titulo de encuesta",id:"title",className:"survey-title",ref:b,autoComplete:"off"}),Object(a.jsxs)("div",{className:"tools-buttons",children:[Object(a.jsx)("button",{className:"add btn",onClick:function(e){e.preventDefault();var t=p.current.value;b.current.value||t?b.current.value?t?g.length<2||0===g.length?k("A\xf1ade 2 o mas opciones"):(q({created_by:j._id,description:b.current.value,questions:[].concat(Object(ie.a)(E.questions),[{name:t,options:g}])}),p.current.value="",w([])):k("A\xf1ada una pregunta a la encuesta"):k("A\xf1ada un titulo a la encuesta"):k("Los campos no pueden estar vacios")},title:"A\xf1adir nueva pregunta",children:Object(a.jsx)(Fe.a,{className:"icon"})}),Object(a.jsx)("button",{className:"send btn",title:"Enviar encuesta",children:Object(a.jsx)(Fe.c,{className:"icon"})})]})]}),C&&Object(a.jsx)(_e,{error:C}),Object(a.jsx)("div",{className:"survey-body",children:Object(a.jsx)(Te,{optionHandle:function(e){e.preventDefault();var t=m.current.value;t?(w([].concat(Object(ie.a)(g),[t])),m.current.value=""):k("A\xf1ade opciones a tus preguntas")},option:m,question:p},"one")})]}),Object(a.jsx)("div",{className:"survey-body",children:E&&E.questions.map((function(e,t){return Object(a.jsxs)("div",{className:"survey",children:[Object(a.jsx)("button",{className:"button-delete button-delete__question","data-target":e.name,onClick:function(e){return function(e){var t=e.target.getAttribute("data-target"),n=E.questions.filter((function(e){return e.name!==t}));q(Object(o.a)(Object(o.a)({},E),{},{questions:n}))}(e)},children:"X"}),Object(a.jsx)("p",{className:"question-show",children:e.name},t),Object(a.jsx)("ul",{children:e.options.map((function(t,n){return Object(a.jsxs)("li",{className:"options-create",children:[Object(a.jsx)("button",{className:"button-delete button-delete__option","data-option":t,"data-parent":e.name,onClick:function(e){return function(e){var t,n=e.target.getAttribute("data-option"),a=e.target.getAttribute("data-parent");E.questions.map((function(e){return e.name===a?e.options.length<=1?k("La pregunta no puede quedar sin respuestas"):(t=e.options.indexOf(n),e.options.splice(t,1)):null})),q(Object(o.a)({},E))}(e)},children:"X"}),Object(a.jsx)("p",{children:t},n)]},n)}))})]},20*t)}))}),Object(a.jsx)(Le,{state:l,toggle:d,image:ze,title:"Encuesta creada correctamente! \ud83d\udc4d\ud83d\ude01",button:function(){window.location.reload()}})]})},Be=(n(132),function(e){var t=e.page,n=e.totalPages,c=e.paginate,s=Object(r.useState)(!0),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)(!0),j=Object(u.a)(d,2),b=j[0],p=j[1];return Object(r.useEffect)((function(){l(n===t||0===n)}),[n,t]),Object(r.useEffect)((function(){p(1===t)}),[n,t]),n<2?null:Object(a.jsxs)("div",{className:"btnContent",children:[Object(a.jsx)("button",{className:"btnPage",onClick:function(){c(t-1)},disabled:b,children:" \u2190 "}),Object(a.jsx)("button",{className:"btnPage",onClick:function(){c(t+1)},disabled:o,children:" \u2192 "})]})}),Me=function(){var e=Object(r.useState)(1),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(d.g)(),i=ee(),o="/api/userAllpoll/".concat(i._id),l=ce(),j=Object(u.a)(l,2),b=j[0],p=j[1],m=ue(o),f=Object(u.a)(m,4),O=f[0],x=f[1],h=f[2],v=f[3],g=n*v,w=g-v,N=O&&O.data.userDB.slice(w,g);return Object(a.jsx)(a.Fragment,{children:O&&i?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(be,{}),Object(a.jsxs)(Pe,{children:[Object(a.jsxs)(Se,{onClick:p,children:["Crear Nueva encuesta",Object(a.jsx)(ke,{})]}),N.length?Object(a.jsxs)("div",{children:[Object(a.jsx)(Ae,{children:N.map((function(e,t){return Object(a.jsx)(fe,{title:e.description,author:i.name,question:e.questions.length,buttonTitle:"Ver",toggleSurvey:function(){return t=e._id,void s.push("/mysurvey/".concat(t));var t}},t)}))}),Object(a.jsx)(Be,{page:n,totalPages:h,paginate:function(e){return c(e)}})]}):Object(a.jsxs)(qe,{children:["Usted aun no tiene encuestas creadas ",Object(a.jsx)("br",{})," Pulse en Crear nueva encuesta para crear una ",Object(a.jsx)("br",{})," \ud83c\udfb6\ud83d\udc96\ud83d\ude09\ud83e\udd1e"]})]}),Object(a.jsx)(Ve,{state:b,toggle:p,reload:x})]}):Object(a.jsx)(Ue,{})})},Xe=n.p+"static/media/login.ffe0c8d4.png",He=n.p+"static/media/view.e24ff65a.svg",Je=(n(133),function(e){var t=Object(d.g)(),n=Object(r.useRef)(),c=Object(r.useRef)(),s=Object(r.useState)(),i=Object(u.a)(s,2),o=i[0],l=i[1],j=te(n,c),b=j.form,p=j.captureEmail,m=j.capturePassword,x=!1,h=function(){var n=Object(O.a)(f.a.mark((function n(a){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),(r={email:b.userEmail,password:b.password}).email&&r.password){n.next=6;break}l("Los datos estan vacios como el coraz\xf3n de ella. (Llenalos) \ud83d\ude23\ud83d\ude25"),n.next=8;break;case 6:return n.next=8,Q.a.post("/api/login",r).then((function(e){return e.data})).then((function(n){n.isAuth?(e.handle(),t.push("/")):n.isAuth||l(n.message)}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"singUp-content",children:[Object(a.jsx)(pe,{image:Xe}),Object(a.jsx)("div",{className:"side2",children:Object(a.jsxs)("div",{className:"side2-content",children:[Object(a.jsx)(Ie,{content:"Iniciar Sesi\xf3n"}),Object(a.jsxs)("form",{className:"form form-login",onSubmit:function(e){return h(e)},children:[Object(a.jsx)("div",{className:"formEmail containerForm",children:Object(a.jsx)("input",{name:"userEmail",type:"email",required:!0,placeholder:"Ingrese su Email",className:"input inputEmail",ref:n,onChange:p,autoComplete:"off"})}),b.errorEmail&&Object(a.jsx)(_e,{error:b.errorEmail}),Object(a.jsxs)("div",{className:"formPassword containerForm",children:[Object(a.jsx)("input",{name:"password",type:"password",required:!0,placeholder:"Ingrese su Contrase\xf1a",className:"input inputPassword",onChange:m,ref:c,autoComplete:"off"}),Object(a.jsx)("img",{src:He,alt:"Ver",className:"viewPassword",onClick:function(){return x=J(x,c)}})]}),b.errorPassword&&Object(a.jsx)(_e,{error:b.errorPassword}),Object(a.jsxs)("div",{className:"buttons",children:[o?Object(a.jsx)(_e,{error:o}):null,Object(a.jsx)("button",{className:"signup-btn",children:"Entrar"}),Object(a.jsx)("button",{className:"login-btn",onClick:function(){return t.push("/singup")},children:"Registrarse"})]})]})]})})]})}),Ze=n.p+"static/media/signup.aca75e46.png",Ke=(n(134),function(e){var t=Object(d.g)(),n=Object(r.useRef)(),c=Object(r.useRef)(),s=Object(r.useRef)(),i=Object(r.useState)(),o=Object(u.a)(i,2),l=o[0],j=o[1],b=se(n,c,s),p=b.values,m=b.captureUsername,x=b.captureEmail,h=b.capturePassword,v=!1,g=function(){var n=Object(O.a)(f.a.mark((function n(a){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),r={name:p.username,email:p.email,password:p.password},n.next=4,Q.a.post("/api/signup",r).then((function(e){return e.data})).then((function(n){n.isAuth?(e.handle(),t.push("/")):j(n.message)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"singUp-content",children:[Object(a.jsx)(pe,{image:Ze}),Object(a.jsx)("div",{className:"side2",children:Object(a.jsxs)("div",{className:"side2-content",children:[Object(a.jsx)(Ie,{content:"Registrarse"}),Object(a.jsxs)("form",{onSubmit:function(e){return g(e)},className:"form",children:[l?Object(a.jsx)(_e,{error:l}):null,Object(a.jsx)("div",{className:"username-content containerSignUp",children:Object(a.jsx)("input",{name:"username",type:"text",id:"username",placeholder:"Nombre de Usuario",ref:n,onChange:m,className:"input",autoComplete:"off"})}),p.errorUsername&&Object(a.jsx)(_e,{error:p.errorUsername}),Object(a.jsx)("div",{className:"email-content containerSignUp",children:Object(a.jsx)("input",{name:"email",type:"email",id:"email",placeholder:"Correo",ref:c,onChange:x,className:"input",autoComplete:"off"})}),p.errorEmail&&Object(a.jsx)(_e,{error:p.errorEmail}),Object(a.jsxs)("div",{className:"password-content containerSignUp",children:[Object(a.jsx)("input",{name:"password",type:"password",id:"password",placeholder:"Contrase\xf1a",ref:s,onChange:h,className:"input",autoComplete:"off"}),Object(a.jsx)("img",{src:He,alt:"Ver",className:"viewPasswordSignUp",onClick:function(){return v=J(v,s)}})]}),p.errorPassword&&Object(a.jsx)(_e,{error:p.errorPassword}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("button",{className:"signup-btn",children:"Registrarse"}),Object(a.jsx)("button",{className:"login-btn",onClick:function(){return t.push("/login")},children:"Iniciar Sesion"})]})]})]})})]})}),Ge=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(0),i=Object(u.a)(s,2),o=i[0],l=i[1],j=Object(d.g)(),b=de(n),p=b.page,m=b.surveysPerPage,x=b.paginate,h=b.currentSurveys;Object(r.useEffect)((function(){(function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/allPoll").then((function(e){c(e.data.Poll),l(Math.ceil(e.data.Poll.length/m))})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m]);var v=function(e){j.push("/viewsurvey/".concat(e))};return Object(a.jsx)(a.Fragment,{children:n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(be,{}),Object(a.jsx)(Pe,{children:h.length?Object(a.jsxs)("div",{children:[Object(a.jsx)(Ae,{children:h.map((function(e,t){return Object(a.jsx)(fe,{id:e._id,title:e.description,author:e.author,question:e.questions.length,buttonTitle:"Ver",toggleSurvey:v},e._id)}))}),Object(a.jsx)(Be,{page:p,totalPages:o,paginate:x})]}):Object(a.jsx)(qe,{children:"A\xfan no hay encuestas por mostrar \ud83d\ude2a\ud83d\ude2b"})})]}):Object(a.jsx)(Ue,{})})},We=(n(135),n.p+"static/media/done.13c197e0.png"),$e=function(e){var t=e.match,n=ce(),c=Object(u.a)(n,2),s=c[0],i=c[1],o=Object(d.g)(),l=t.params._id,j=ee(),b=oe(l,j,(function(){i(!0)})),p=Object(u.a)(b,3),m=p[0],f=p[1],O=p[2],x=Object(r.useState)(""),h=Object(u.a)(x,2),v=h[0],g=h[1];return Object(a.jsx)(a.Fragment,{children:m?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(be,{}),Object(a.jsxs)("form",{className:"viewSurvey form-viewsurvey",onSubmit:function(e){return g(O(e))},children:[Object(a.jsxs)("div",{className:"survey-body",children:[Object(a.jsx)("h1",{className:"title-survey",children:m.Poll.description}),v&&Object(a.jsx)(_e,{error:v}),m.Poll.questions.map((function(e,t){return Object(a.jsxs)("div",{className:"survey",children:[Object(a.jsx)("h3",{children:e.name},t),Object(a.jsx)("ul",{className:"list-survey",children:e.options.map((function(t,n){return Object(a.jsx)("li",{className:"options-survey",children:Object(a.jsx)("p",{name:t._id,"data-question":e._id,onClick:function(e){return f(e)},className:"paragraph-survey",id:t._id+"Item",children:t.option},n)},n)}))})]},20*t)}))]}),Object(a.jsx)("button",{className:"btn-view__survey",type:"submit",children:"Enviar Respuestas"})]}),Object(a.jsx)(Le,{state:s,toggle:i,image:We,title:"La respuesta se envio correctamente! \ud83d\udc4d\ud83d\ude0e",button:function(){o.push("/surveys")}})]}):Object(a.jsx)(Ue,{})})},Qe=(n(136),function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("footer",{className:"footer-content",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h1",{children:"SHADOW MONKEES"}),Object(a.jsx)("p",{children:"\xa9 2021 \xb7 Todos los derechos reservados"})]})})})}),Ye=(n(137),function(){var e=re(),t=Object(u.a)(e,5),n=t[0],c=t[1],s=t[2],i=t[3],o=t[4],l=ce(),d=Object(u.a)(l,2),j=d[0],b=d[1],p=i.name,m=Object(r.useRef)(),f=Object(r.useRef)(),O=!1;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(be,{}),n&&Object(a.jsx)("div",{className:"profile-container",children:Object(a.jsxs)("div",{className:"profile",children:[Object(a.jsx)("header",{className:"profile-header",children:Object(a.jsx)("h1",{className:"profile-title",children:"Informaci\xf3n personal"})}),p?Object(a.jsx)(_e,{error:p,secondary:"true"}):null,Object(a.jsxs)("form",{className:"profile-form",onSubmit:function(e){return c(e)},children:[Object(a.jsxs)("section",{className:"profile-section profile-dates",children:[Object(a.jsx)("label",{className:"lbl lbl-name",children:"Nombre"}),Object(a.jsx)("input",{className:"inputText input-name",name:"name",type:"text",defaultValue:n.name,onChange:function(e){return s(e)},autoComplete:"off",required:!0}),Object(a.jsx)("label",{className:"lbl lbl-email",children:"Correo electronico"}),Object(a.jsx)("input",{className:"inputText input-email",type:"text",name:"email",defaultValue:n.email,onChange:function(e){return s(e)},autoComplete:"off",required:!0})]}),Object(a.jsx)("h1",{className:"profile-title change-Password",children:"Cambiar contrase\xf1a"}),Object(a.jsxs)("section",{className:"profile-section profile-password",children:[Object(a.jsx)("label",{className:"lbl lbl-newPassoword",children:"Nueva contrase\xf1a"}),Object(a.jsxs)("div",{className:"containerInputPassword",children:[Object(a.jsx)("input",{className:"inputText input-newPassword",type:"password",onChange:function(e){return s(e)},autoComplete:"off",name:"newPassword",ref:f}),Object(a.jsx)("img",{src:He,alt:"Ver",className:"viewPassword viewPasswordProfile",onClick:function(){return O=J(O,f)}})]}),Object(a.jsx)("label",{className:"lbl lbl-confirmPassword",children:"Confirmar nueva contrase\xf1a"}),Object(a.jsxs)("div",{className:"containerInputPassword",children:[Object(a.jsx)("input",{className:"inputText input-confirmPassword",type:"password",name:"password",onChange:function(e){return s(e)},autoComplete:"off",ref:m}),Object(a.jsx)("img",{src:He,alt:"Ver",className:"viewPassword viewPasswordProfile",onClick:function(){return O=J(O,m)}})]})]}),Object(a.jsx)("button",{type:"submit",className:"buttonProfile sendData",children:"Guardar Datos"}),Object(a.jsx)("button",{className:"buttonProfile deleteAccount",onClick:b,children:"Eliminar cuenta"}),Object(a.jsx)(v,{state:j,toggle:b,title:"\xbfEsta seguro que desea eliminar su cuenta?",note:"Nota: Al eliminar la cuenta se cerrar la sesion y perdera todos sus datos",work:o})]})]})})]})}),et=n(89),tt=n.p+"static/media/sad.9a96bb92.svg",nt=(n(232),function(e){var t=e.match,n=Object(d.g)(),r="/api/poll/".concat(t.params.id),c=ce(),s=Object(u.a)(c,2),i=s[0],o=s[1],l=ue(r,!0),j=Object(u.a)(l,1)[0],b=le(j),p=0,m=function(){var e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete(r).then((function(e){return t=e.status})).catch((function(e){return console.log(e)}));case 2:200===t&&(o(),n.push("/"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(be,{}),void 0!==b.labels?(b.datasets.data[0].map((function(e){return 0!==e?p:p++})),p===b.datasets.data[0].length?Object(a.jsxs)("div",{className:"not-result graphic",children:[Object(a.jsxs)("p",{className:"title-not-result",children:[Object(a.jsx)("span",{children:"Nota:"})," A\xfan no tenemos resultados para esta encuesta"]}),Object(a.jsx)("img",{src:tt,alt:"Encuesta no respondida",className:"not-result-img"})]}):b.labels.map((function(e,t){return Object(a.jsxs)("div",{className:"graphic",children:[Object(a.jsx)("h3",{className:"title-result",children:b.name[t]}),Object(a.jsx)(et.Doughnut,{data:{labels:e,datasets:[{data:b.datasets.data[t],backgroundColor:b.datasets.backgroundColor[t]}]},width:10,height:3,options:{responsive:!0}},t)]},20*t)}))):Object(a.jsx)(Ue,{}),Object(a.jsx)("button",{className:"btn-delete__survey",onClick:o,children:"Eliminar encuesta"}),Object(a.jsx)(v,{state:i,toggle:o,title:"\xbfEstas seguto que deseas eliminar esta encuesta?",note:"Nota: Si eliminas la encuesta, perderas todos los resultados obtenidos de la misma",work:m})]})}),at=new b.a,rt=function(){var e=Object(r.useState)(at.get("auth")),t=Object(u.a)(e,2),n=t[0],c=t[1],s=function(){c(at.get("auth"))};return Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{exact:!0,path:"/login",handle:s,render:function(e){return Object(a.jsx)(Je,Object(o.a)(Object(o.a)({},e),{},{handle:s}))}}),Object(a.jsx)(d.b,{exact:!0,path:"/singup",handle:s,render:function(e){return Object(a.jsx)(Ke,Object(o.a)(Object(o.a)({},e),{},{handle:s}))}}),Object(a.jsx)(d.b,{exact:!0,path:"/viewsurvey/:_id",component:n?$e:xe}),Object(a.jsx)(d.b,{exact:!0,path:"/mysurvey/:id",component:n?nt:xe}),Object(a.jsx)(j,{exact:!0,path:"/",component:Me,isAuth:n}),Object(a.jsx)(j,{exact:!0,path:"/profile",component:Ye,isAuth:n}),Object(a.jsx)(j,{exact:!0,path:"/surveys",component:Ge,isAuth:n}),Object(a.jsx)(d.b,{component:xe})]}),Object(a.jsx)(Qe,{})]})},ct=function(){return Object(a.jsx)(rt,{})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ct,{})}),document.getElementById("root"))},61:function(e,t,n){},96:function(e,t,n){}},[[233,1,2]]]);
//# sourceMappingURL=main.8c3aa25c.chunk.js.map